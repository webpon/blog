import{_ as s,c as n,o as a,a as o}from"./app.f2fbcdc9.js";const h=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":3,"title":"组件（插件）","slug":"组件-插件","link":"#组件-插件","children":[]}],"relativePath":"front-end/编程工具库/fs-extra.md"}'),l={name:"front-end/编程工具库/fs-extra.md"},e=o(`<blockquote><p>fs-extra是fs的一个扩展，提供了非常多的便利API，并且继承了fs所有方法和为fs方法添加了promise的支持。</p><p>它应该是 fs 的替代品。</p></blockquote><h5 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h5><div class="language-undefined"><button title="Copy Code" class="copy"></button><span class="lang">undefined</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">npm install fs-extra -S</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h5 id="用法" tabindex="-1">用法 <a class="header-anchor" href="#用法" aria-hidden="true">#</a></h5><p>应该总是fs-extra代替fs使用，所有fs方法都附在fs-extra，fs如果未传递回调，则所有方法都将返回promise 不再需要这个</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>你现在可以这样做</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs-extra</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>如果你希望明确表示你在使用fs-extra，可以将fs标识符改为fse</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fse </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs-extra</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>你可以保留两者使用，但它是多余的，因为 fs-extra 继承了fs</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fse </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs-extra</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>Sync vs Async vs Async/Await</p><p>大多数方法默认为异步，如果未传递回调，则所有异步方法将返回一个promise。 一个典型的例子：</p><div class="language-tsx"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs-extra</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 异步方法，返回promise</span></span>
<span class="line"><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">copy</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/tmp/myfile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/tmp/mynewfile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">success!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">err</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#A6ACCD;">(err))</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 异步方法，回调函数</span></span>
<span class="line"><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">copy</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/tmp/myfile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/tmp/mynewfile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">err</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">success!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 同步方法，注意必须使用try catch包裹着才能捕获错误</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">copySync</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/tmp/myfile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/tmp/mynewfile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">success!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#A6ACCD;"> (err) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Async/Await:</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">copyFiles</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">copy</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/tmp/myfile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/tmp/mynewfile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">success!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#82AAFF;">copyFiles</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><h5 id="api-methods" tabindex="-1">API Methods <a class="header-anchor" href="#api-methods" aria-hidden="true">#</a></h5><p>下面的所有方法都是fs-extra扩展方法</p><h6 id="async" tabindex="-1">async <a class="header-anchor" href="#async" aria-hidden="true">#</a></h6><ul><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2Fcopy.md" target="_blank" rel="noreferrer">copy</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FemptyDir.md" target="_blank" rel="noreferrer">emptyDir</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureFile.md" target="_blank" rel="noreferrer">ensureFile</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureDir.md" target="_blank" rel="noreferrer">ensureDir</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureLink.md" target="_blank" rel="noreferrer">ensureLink</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureSymlink.md" target="_blank" rel="noreferrer">ensureSymlink</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureDir.md" target="_blank" rel="noreferrer">mkdirp</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureDir.md" target="_blank" rel="noreferrer">mkdirs</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2Fmove.md" target="_blank" rel="noreferrer">move</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FoutputFile.md" target="_blank" rel="noreferrer">outputFile</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FoutputJson.md" target="_blank" rel="noreferrer">outputJson</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FpathExists.md" target="_blank" rel="noreferrer">pathExists</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FreadJson.md" target="_blank" rel="noreferrer">readJson</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2Fremove.md" target="_blank" rel="noreferrer">remove</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FwriteJson.md" target="_blank" rel="noreferrer">writeJson</a></li></ul><h6 id="sync" tabindex="-1">sync <a class="header-anchor" href="#sync" aria-hidden="true">#</a></h6><ul><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2Fcopy-sync.md" target="_blank" rel="noreferrer">copySync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FemptyDir-sync.md" target="_blank" rel="noreferrer">emptyDirSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureFile-sync.md" target="_blank" rel="noreferrer">ensureFileSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureDir-sync.md" target="_blank" rel="noreferrer">ensureDirSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureLink-sync.md" target="_blank" rel="noreferrer">ensureLinkSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureSymlink-sync.md" target="_blank" rel="noreferrer">ensureSymlinkSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureDir-sync.md" target="_blank" rel="noreferrer">mkdirpSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FensureDir-sync.md" target="_blank" rel="noreferrer">mkdirsSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2Fmove-sync.md" target="_blank" rel="noreferrer">moveSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FoutputFile-sync.md" target="_blank" rel="noreferrer">outputFileSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FoutputJson-sync.md" target="_blank" rel="noreferrer">outputJsonSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FpathExists-sync.md" target="_blank" rel="noreferrer">pathExistsSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FreadJson-sync.md" target="_blank" rel="noreferrer">readJsonSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2Fremove-sync.md" target="_blank" rel="noreferrer">removeSync</a></li><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjprichardson%2Fnode-fs-extra%2Fblob%2FHEAD%2Fdocs%2FwriteJson-sync.md" target="_blank" rel="noreferrer">writeJsonSync</a></li></ul><h3 id="组件-插件" tabindex="-1">组件（插件） <a class="header-anchor" href="#组件-插件" aria-hidden="true">#</a></h3>`,22),p=[e];function t(r,c,F,i,y,D){return a(),n("div",null,p)}const d=s(l,[["render",t]]);export{h as __pageData,d as default};
